-- import to SQLite by running: sqlite3.exe db.sqlite3 -init sqlite.sql

PRAGMA journal_mode = MEMORY;
PRAGMA synchronous = OFF;
PRAGMA foreign_keys = OFF;
PRAGMA ignore_check_constraints = OFF;
PRAGMA auto_vacuum = NONE;
PRAGMA secure_delete = OFF;
BEGIN TRANSACTION;

DROP TABLE IF EXISTS `cuidadores`;

CREATE TABLE `cuidadores` (
`id` int NOT NULL,
`id_guarderia` int DEFAULT NULL,
`nombre` TEXT DEFAULT NULL,
`telefono` TEXT DEFAULT NULL,
PRIMARY KEY (`id`),
FOREIGN KEY (`id_guarderia`) REFERENCES `guarderias` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
);
LOCK TABLES `cuidadores` WRITE;
INSERT INTO `cuidadores` VALUES (1,3,'jose','123456');
UNLOCK TABLES;
DROP TABLE IF EXISTS `guarderias`;

CREATE TABLE `guarderias` (
`id` int NOT NULL ,
`nombre` TEXT NOT NULL,
`direccion` text NOT NULL,
`telefono` TEXT NOT NULL,
PRIMARY KEY (`id`)
);
LOCK TABLES `guarderias` WRITE;
INSERT INTO `guarderias` VALUES (3,'Guarderia la segunda','Calle tal','456'),(4,'Prueba','Calle tal','456'),(5,'Prueba','direct 1234','123457841'),(6,'Prueba','direct 12','457841');
UNLOCK TABLES;
DROP TABLE IF EXISTS `perros`;

CREATE TABLE `perros` (
`id` int NOT NULL ,
`id_guarderia` int DEFAULT NULL,
`id_cuidador` int DEFAULT NULL,
`nombre` TEXT DEFAULT NULL,
`raza` TEXT DEFAULT NULL,
`edad` int DEFAULT NULL,
`peso` double DEFAULT NULL,
PRIMARY KEY (`id`),
FOREIGN KEY (`id_cuidador`) REFERENCES `cuidadores` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
FOREIGN KEY (`id_guarderia`) REFERENCES `guarderias` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
);
LOCK TABLES `perros` WRITE;
INSERT INTO `perros` VALUES (1,3,1,'Juan','perro',15,15);
UNLOCK TABLES;



CREATE INDEX `cuidadores_fk_id_guarderia_idx` ON `cuidadores` (`id_guarderia`);
CREATE INDEX `perros_fk_id_cuidador_idx` ON `perros` (`id_cuidador`);
CREATE INDEX `perros_fk_id_guarderia_idx` ON `perros` (`id_guarderia`);

COMMIT;
PRAGMA ignore_check_constraints = ON;
PRAGMA foreign_keys = ON;
PRAGMA journal_mode = WAL;
PRAGMA synchronous = NORMAL;
